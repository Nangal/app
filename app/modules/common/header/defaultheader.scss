
$cc-header---icon-padding: round(($cc-header---height * .17));
$cc-header---icon-height: round($cc-header---height * .43);
$cc-header---half-icon-height: round($cc-header---icon-height / 2);
$cc-header---element-height: 2 * $cc-header---icon-padding + $cc-header---icon-height;


.cc-header{
    background: $toolbar-background-color; 
    height: $cc-header---height;
    z-index: 999;
    width: 100%;
    position: relative;
    display: table;
    //we need a blur radius of at least 1px for box-shadow to work on Android 2.3
    //http://stackoverflow.com/questions/13565379/android-wont-show-box-shadow-with-0px-blur
    @include vendor-prefix('box-shadow', 0px $border-bottom-width 1px $toolbar-border-color);
    //the unprefixed version doesn't need the blur
    box-shadow: 0px $border-bottom-width 0px $toolbar-border-color;
}

.cc-supports-position-fixed{
    .cc-header{
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
    }
}

.cc-header__icon-wrapper{
    display: table-cell;
    vertical-align: middle;
    text-align: center;
    //TODO: What is the magic 2 here?
    width: $cc-header---height + 2 + $half-primary-padding;
}

.cc-header__icon-wrapper--left{
    @extend .cc-header__icon-wrapper;

    text-align: left;
    padding-left: $half-primary-padding;
}

.cc-header__icon-wrapper--right{
    @extend .cc-header__icon-wrapper;

    text-align: right;
    padding-right: $half-primary-padding;
}

.cc-header__icon{
    text-shadow: 2px 2px 0px $toolbar-border-color;
    color: $toolbar-icon-color;

    display: inline-block;
    text-align: center; 

    padding: ($cc-header---icon-padding - 1) round($cc-header---icon-padding * 1.3) ($cc-header---icon-padding + 1);
    width: $cc-header---height;
    height: $cc-header---element-height;


    font-size: $cc-header---icon-height;

    border: 1px solid $toolbar-border-color;
    
    //android 2.3 needs blur for box shadow
    -webkit-box-shadow: 0 $border-bottom-width 1px 0 try-darker($toolbar-border-color, 5%);
    box-shadow: 0 $border-bottom-width 0 0 try-darker($toolbar-border-color, 5%);

    /* top margin depends on box-shadow size  */
    /* because of the parent table-cell vertical-align-middle property you should double margin values */
    margin: -($border-bottom-width) 0 0 0; 

    border-radius: $primary-border-radius;

    position: relative;

    @extend .cc-button--pressed;
}

//lots of hardcoded colors for the badge. Can we get rid of them?
.cc-header__icon-badge{    
    position: absolute;
    font-size: $font-size-small;
    line-height: $font-size-small;
    text-align: center;
    background: $highlight-color;
    color: $highlight-text-color;
    padding: 4px;
    text-shadow: none;
    border: 1px solid $toolbar-border-color;
    /* min-width = height = font-size + padding + border */
    min-width: ($font-size-small + 8px + 2px);
    /* radius = height / 2 */
    border-radius: round(($font-size-small + 8px + 2px)/2);
    //android 2.3 needs blur for box shadow
    -webkit-box-shadow: 0 $border-bottom-width 1px 0 try-darker($toolbar-border-color, 5%);
    box-shadow: 0 $border-bottom-width 0 0 try-darker($toolbar-border-color, 5%);
}

.cc-header__icon-badge--cart{
    @extend .cc-header__icon-badge;
    top: -6px;
    right: 2px;
}

.cc-header__logo{
    background-size: contain;
    background-position: center center;
    background-repeat: no-repeat;
    display: table-cell;

    background-image: $logo-small;

    @media (min-width:600px){
        background-image: $logo-big;
    }
}
