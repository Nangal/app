{
  "name": "grunt-release-branch",
  "version": "0.2.0",
  "description": "A grunt task that makes working with release branches (aka gh-pages) a breeze\"",
  "main": "Gruntfile.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/cburgdorf/grunt-release-branch.git"
  },
  "keywords": [
    "gruntplugin",
    "gh-pages",
    "release",
    "branch"
  ],
  "author": {
    "name": "Christoph Burgdorf"
  },
  "license": "MIT",
  "readme": "# grunt-release-branch\n\n> A grunt task that makes working with release branches (aka gh-pages) a breeze\n\n\n\n## Getting Started\nThis plugin requires Grunt `~0.4.0`\n\nIf you haven't used [Grunt](http://gruntjs.com/) before, be sure to check out the [Getting Started](http://gruntjs.com/getting-started) guide, as it explains how to create a [Gruntfile](http://gruntjs.com/sample-gruntfile) as well as install and use Grunt plugins. Once you're familiar with that process, you may install this plugin with this command:\n\n```shell\nnpm install grunt-release-branch --save-dev\n```\n\nOnce the plugin has been installed, it may be enabled inside your Gruntfile with this line of JavaScript:\n\n```js\ngrunt.loadNpmTasks('grunt-release-branch');\n```\n\n## What is the problem with release branches aka `gh-pages` branches?\n\nWhen developing for the web, we usually have a bunch of build steps which take care of concatenation, minification, inlining templates, generating html snapshots and so on and so on...\n\nAfter running through all those steps, the final output is usually placed into an output directory that is not commited into version control. Following the `release branch pattern` we take this output and place it on an `orphan` branch, where another mechanism can kick in and e.g. publish it as a website. That's exactly how it works with github when using a `gh-pages` branch.\n\nThis grunt plugin consits of two tasks to assist you for those scenarios.\n\n\n## releaseBranchPre task\nThis task should run *before* all other build steps. It simply does `git branch -D gh-pages` and `git checkout -b gh-pages` under the covers. Please note that the branch name can be configured with the `releaseBranch` option.\n\n## releaseBranch task\nThis task should run as the last command in your build orchestration. It moves all the files from your output directory to the root level of your working directory while deleting *all* other stuff except your .git folder. It than optionally commits and pushs using the `--force` parameter.\n\n\n## configuration\n\n```js\n\n\n    var releaseBranchOptions = app: {\n                                        options: {\n                                            //the name of the orphan branch. Default is gh-pages\n                                            releaseBranch: 'gh-pages',\n                                            //the name of the remote repository. Default is origin\n                                            remoteRepository: 'origin',\n                                            //the name of the output directory. Default is dist\n                                            distDir: 'dist',\n                                            //the commit message to be used for the optional commit\n                                            commitMessage: 'RELEASE',\n                                            //should files be automatically commited on the orphan branch\n                                            commit: true\n                                            //should the orphan branch be pushed to the remote repository\n                                            //default is false\n                                            push: true\n                                            //a blacklist of things to keep on the root level. By default only\n                                            //the .git folder will be kept.\n                                            blacklist: [\n                                                '.git'\n                                            ]\n                                        }\n                                    };\n\n\n    grunt.initConfig({\n        releaseBranchPre: releaseBranchOptions,\n        releaseBranch: releaseBranchOptions\n    });\n```\n\n## What if my dist is in a subfolder?\n\nUse the `cwd` option to point the way to the root folder of your repository and then set the `dist` folder relative to the root folder of your repository.\n\n```js\n\n\n    var releaseBranchOptions = app: {\n                                        options: {\n                                            //the name of the orphan branch. Default is gh-pages\n                                            releaseBranch: 'gh-pages',\n                                            //the name of the remote repository. Default is origin\n                                            remoteRepository: 'origin',\n                                            //point the way to the root folder of your repository (default is .)\n                                            cwd: '../',\n                                            //the name of the output directory. Default is dist\n                                            distDir: 'app/dist',\n                                            //the commit message to be used for the optional commit\n                                            commitMessage: 'RELEASE',\n                                            //should files be automatically commited on the orphan branch\n                                            commit: true\n                                            //should the orphan branch be pushed to the remote repository\n                                            //default is false\n                                            push: true\n                                            //a blacklist of things to keep on the root level. By default only\n                                            //the .git folder will be kept.\n                                            blacklist: [\n                                                '.git'\n                                            ]\n                                        }\n                                    };\n\n\n    grunt.initConfig({\n        releaseBranchPre: releaseBranchOptions,\n        releaseBranch: releaseBranchOptions\n    });\n```\n\n## Release History\n\n- 0.2.0 - added support for cwd option\n- 0.1.1 - fixed race condition\n- 0.1.0 - Initial release",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/cburgdorf/grunt-release-branch/issues"
  },
  "_id": "grunt-release-branch@0.2.0",
  "_from": "grunt-release-branch@~0.2.0"
}
