<div cc-scroller-announcer class="sofa-view">
    <sofa-inject target="aboveContent"></sofa-inject>

    <div ng-if="productController.product">

        <div class="sofa-view__header sofa-view__header--product">
            <div class="sofa-up-nav">
                <sofa-go-back-control category="productController.upCategory"></sofa-go-back-control>
            </div>
            <div class="sofa-view__title">
                <h1 class="cc-title--huge">{{::productController.product.name}}</h1>
            </div>
        </div>

        <sofa-inject target="beneathTitle"></sofa-inject>

        <sofa-full-page-view on-open="setCloneState" on-close="setOriginalState">
            <sofa-full-page-view-clone class="cc-animate">
                <sofa-touch-slider
                        class="sofa-product__image-slider"
                        items="productController.productImages"
                        display-items="1"
                        snap="true"
                        slide-index="shared.slideIndex"
                        show-indicator="true"
                        data-snap-ignore="true">
                    <div class="sofa-product-view-image-wrapper">
                        <img ng-src="{{item.image.url}}" class="sofa-product-view-image"
                             sofa-image-zoom="item.zoomImage.loaded && item.zoomImage.url">
                    </div>
                </sofa-touch-slider>
            </sofa-full-page-view-clone>
            <sofa-full-page-view-original>
                <sofa-touch-slider
                        class="sofa-product__image-slider"
                        items="productController.productImages"
                        display-items="1"
                        on-item-click="openFullPageView(e)"
                        snap="true"
                        slide-index="shared.slideIndex"
                        show-indicator="true"
                        data-snap-ignore="true">
                    <div class="sofa-product-view-image-wrapper"
                         ng-click="onItemClick({e: $event});"
                         ng-class="{'cc-img-loading': !item.image.loaded}">
                        <img ng-src="{{item.image.url}}" class="sofa-product-view-image">
                    </div>
                </sofa-touch-slider>
            </sofa-full-page-view-original>
        </sofa-full-page-view>

        <div sofa-include="tpl.PRODUCT_INTERACTION"></div>

        <div class="sofa-product-information" ng-if="productController.hasInfo()">

            <div class="sofa-product-information__block" ng-if="productController.product.description">
                <h2 class="cc-title--big">{{::ln.productDetails}}</h2>
                <div class="cc-cms-content" ng-bind-html="productController.product.description"></div>
            </div>

            <div class="sofa-product-information__block" ng-if="productController.product.hasAttributes()">
                <h2 class="cc-title--big">{{::ln.productSpecifications}}</h2>
                <ul class="cc-properties--block">
                    <li ng-repeat="(key, value) in productController.product.attributes track by key">
                        <span class="cc-properties__key" ng-bind="key"></span>
                        <span class="cc-properties__value" ng-bind-html="productController.getTrustedHtml(value)"></span>
                    </li>
                </ul>
            </div>

        </div>

    </div>

    <div ng-if="!productController.product" ng-include="tpl.404"></div>

    <sofa-inject target="aboveFooter"></sofa-inject>
    <cc-footer></cc-footer>
    <sofa-inject target="beneathFooter"></sofa-inject>

</div>
